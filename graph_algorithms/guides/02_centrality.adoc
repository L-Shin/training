= Centrality Algorithms
:icons: font
:csv-url: https://raw.githubusercontent.com/mathbeveridge/asoiaf/master/data

== Centrality Algorithms

== Closeness Centrality

[source, cypher]
----
CALL algo.closeness.stream("Place", "EROAD")
YIELD nodeId, centrality
RETURN algo.getNodeById(nodeId).name AS user, centrality
ORDER BY centrality DESC
----

Let's take one of the places that has a Closeness Centrality of 1.0 and see how well it's connected.
Run the following query to find all the places that we can get to from Granada:

== Closeness Centrality: Explanation

[source, cypher]
----
MATCH path = (:Place {name: "Granada"})-[:EROAD*]-()
RETURN path
----

== Closeness Centrality Variation: Wasserman and Faust

[source, cypher]
----
CALL algo.closeness.stream("Place", "EROAD", {improved: true})
YIELD nodeId, centrality
RETURN algo.getNodeById(nodeId).name AS user, centrality
ORDER BY centrality DESC
----

== Closeness Centrality Variation: Harmonic Centrality

[source, cypher]
----
CALL algo.closeness.harmonic.stream("Place", "EROAD")
YIELD nodeId, centrality
RETURN algo.getNodeById(nodeId).name AS user, centrality
ORDER BY centrality DESC
----


== Betweenness Centrality

[source, cypher]
----
CALL algo.betweenness.stream("Place", "EROAD")
YIELD nodeId, centrality
RETURN algo.getNodeById(nodeId).name AS user, centrality
ORDER BY centrality DESC
----


== Betweenness Centrality Variation: Randomized-Approximate Brandes


[source, cypher]
----
CALL algo.betweenness.sampled.stream("Place", "EROAD", {strategy:"degree"})
YIELD nodeId, centrality
RETURN algo.getNodeById(nodeId).name AS user, centrality
ORDER BY centrality DESC
----


== PageRank

[source, cypher]
----
CALL algo.pageRank.stream('Place', 'EROAD', {iterations:20, dampingFactor:0.85, direction: "BOTH"})
YIELD nodeId, score
RETURN algo.getNodeById(nodeId).name AS page, score
ORDER BY score DESC
----
